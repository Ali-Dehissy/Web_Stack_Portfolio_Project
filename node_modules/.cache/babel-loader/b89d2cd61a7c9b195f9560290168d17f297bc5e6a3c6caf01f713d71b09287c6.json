{"ast":null,"code":"var _jsxFileName = \"/home/ali/Web_Stack_Portfolio_Project/src/components/ThreadDetail.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ThreadDetail = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [posts, setPosts] = useState([]);\n  const [content, setContent] = useState('');\n  useEffect(() => {\n    const fetchPosts = async () => {\n      const response = await axios.get(`http://localhost:3001/api/threads/${id}/posts`);\n      setPosts(response.data);\n    };\n    fetchPosts();\n  }, [id]);\n  const handlePostSubmit = async e => {\n    e.preventDefault();\n    await axios.post(`http://localhost:3001/api/threads/${id}/posts`, {\n      content\n    });\n    setContent(''); // Clear input\n    // Optionally fetch posts again to update the list\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Thread Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: posts.map(post => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: post.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Posted by: \", post.creator.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 25\n        }, this)]\n      }, post._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handlePostSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: content,\n        onChange: e => setContent(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Reply\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n};\n_s(ThreadDetail, \"xfafsG/T/useq0CUZncf2PhkV3c=\", false, function () {\n  return [useParams];\n});\n_c = ThreadDetail;\nexport default ThreadDetail;\nvar _c;\n$RefreshReg$(_c, \"ThreadDetail\");","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","jsxDEV","_jsxDEV","ThreadDetail","_s","id","posts","setPosts","content","setContent","fetchPosts","response","get","data","handlePostSubmit","e","preventDefault","post","children","fileName","_jsxFileName","lineNumber","columnNumber","map","creator","name","_id","onSubmit","value","onChange","target","required","type","_c","$RefreshReg$"],"sources":["/home/ali/Web_Stack_Portfolio_Project/src/components/ThreadDetail.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\n\nconst ThreadDetail = () => {\n    const { id } = useParams();\n    const [posts, setPosts] = useState([]);\n    const [content, setContent] = useState('');\n\n    useEffect(() => {\n        const fetchPosts = async () => {\n            const response = await axios.get(`http://localhost:3001/api/threads/${id}/posts`);\n            setPosts(response.data);\n        };\n\n        fetchPosts();\n    }, [id]);\n\n    const handlePostSubmit = async (e) => {\n        e.preventDefault();\n        await axios.post(`http://localhost:3001/api/threads/${id}/posts`, { content });\n        setContent(''); // Clear input\n        // Optionally fetch posts again to update the list\n    };\n\n    return (\n        <div>\n            <h1>Thread Details</h1>\n            <ul>\n                {posts.map(post => (\n                    <li key={post._id}>\n                        <p>{post.content}</p>\n                        <p>Posted by: {post.creator.name}</p>\n                    </li>\n                ))}\n            </ul>\n            <form onSubmit={handlePostSubmit}>\n                <textarea\n                    value={content}\n                    onChange={(e) => setContent(e.target.value)}\n                    required\n                />\n                <button type=\"submit\">Reply</button>\n            </form>\n        </div>\n    );\n};\n\nexport default ThreadDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}